{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _ref, _ref2, _ref3, _ref4;\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, get } from 'firebase/database';\nimport { getAuth, signInWithCredential, PhoneAuthProvider } from 'firebase/auth';\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBEDzmVpp-24DBZLDxd23zSk_Jw8zX_rac\",\n  authDomain: \"reservation-mate.firebaseapp.com\",\n  databaseURL: \"https://reservation-mate-default-rtdb.firebaseio.com\",\n  projectId: \"reservation-mate\",\n  storageBucket: \"reservation-mate.appspot.com\",\n  messagingSenderId: \"719958615188\",\n  appId: \"1:719958615188:web:9a41ce51819fcaf6614081\",\n  measurementId: \"G-HF4VV6PKW7\"\n};\nvar firebaseService = initializeApp(firebaseConfig);\nvar database = getDatabase(firebaseService);\nvar auth = getAuth(firebaseService);\nexport var sendVerificationCode = function sendVerificationCode(_x, _x2, _x3) {\n  return (_ref = _ref || _asyncToGenerator(function* (phone, setVerificationId, Alert) {\n    try {\n      var provider = new PhoneAuthProvider(auth);\n      var verificationId = yield provider.verifyPhoneNumber(phone);\n      setVerificationId(verificationId);\n      Alert.alert('인증 코드가 전송되었습니다.');\n    } catch (error) {\n      Alert.alert('오류', error.message);\n    }\n  })).apply(this, arguments);\n};\nexport var verifyCode = function verifyCode(_x4, _x5, _x6) {\n  return (_ref2 = _ref2 || _asyncToGenerator(function* (verificationId, verificationCode, Alert) {\n    try {\n      var credential = PhoneAuthProvider.credential(verificationId, verificationCode);\n      yield signInWithCredential(auth, credential);\n      Alert.alert('인증이 완료되었습니다.');\n    } catch (error) {\n      Alert.alert('오류', error.message);\n    }\n  })).apply(this, arguments);\n};\nexport var verify = function verify(_x7, _x8, _x9) {\n  return (_ref3 = _ref3 || _asyncToGenerator(function* (verificationId, verificationCode, Alert) {\n    try {\n      var credential = PhoneAuthProvider.credential(verificationId, verificationCode);\n      var userCredential = yield signInWithCredential(auth, credential);\n      var user = userCredential.user;\n      Alert.alert('인증이 완료되었습니다.');\n      return user;\n    } catch (error) {\n      Alert.alert('오류', error.message);\n      throw error;\n    }\n  })).apply(this, arguments);\n};\nexport var loginUser = function loginUser(_x10, _x11) {\n  return (_ref4 = _ref4 || _asyncToGenerator(function* (id, password) {\n    try {\n      var db = getDatabase();\n      var userRef = ref(db, 'users/' + id);\n      var snapshot = yield get(userRef);\n      return snapshot.exists() && snapshot.val().password === password;\n    } catch (error) {\n      console.error(\"Error logging in: \", error);\n      throw error;\n    }\n  })).apply(this, arguments);\n};\nexport default firebaseService;","map":{"version":3,"names":["initializeApp","getDatabase","ref","get","getAuth","signInWithCredential","PhoneAuthProvider","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseService","database","auth","sendVerificationCode","_x","_x2","_x3","_ref","_asyncToGenerator","phone","setVerificationId","Alert","provider","verificationId","verifyPhoneNumber","alert","error","message","apply","arguments","verifyCode","_x4","_x5","_x6","_ref2","verificationCode","credential","verify","_x7","_x8","_x9","_ref3","userCredential","user","loginUser","_x10","_x11","_ref4","id","password","db","userRef","snapshot","exists","val","console"],"sources":["C:/Users/KimTW/OneDrive/바탕 화면/Jo-main/Reservation_mate/Database/firebaseService.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, get } from 'firebase/database';\nimport { getAuth, signInWithCredential, PhoneAuthProvider  } from 'firebase/auth';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBEDzmVpp-24DBZLDxd23zSk_Jw8zX_rac\",\n    authDomain: \"reservation-mate.firebaseapp.com\",\n    databaseURL: \"https://reservation-mate-default-rtdb.firebaseio.com\",\n    projectId: \"reservation-mate\",\n    storageBucket: \"reservation-mate.appspot.com\",\n    messagingSenderId: \"719958615188\",\n    appId: \"1:719958615188:web:9a41ce51819fcaf6614081\",\n    measurementId: \"G-HF4VV6PKW7\"\n  };\n  \nconst firebaseService = initializeApp(firebaseConfig);\nconst database = getDatabase(firebaseService);\nconst auth = getAuth(firebaseService);\n\nexport const sendVerificationCode = async (phone, setVerificationId, Alert) => {\n  try {\n    const provider = new PhoneAuthProvider(auth);\n    const verificationId = await provider.verifyPhoneNumber(phone);\n    setVerificationId(verificationId);\n    Alert.alert('인증 코드가 전송되었습니다.');\n  } catch (error) {\n    Alert.alert('오류', error.message);\n  }\n};\n\nexport const verifyCode = async (verificationId, verificationCode, Alert) => {\n  try {\n    const credential = PhoneAuthProvider.credential(verificationId, verificationCode);\n    await signInWithCredential(auth, credential);\n    Alert.alert('인증이 완료되었습니다.');\n    // 여기서 추가적인 작업을 수행할 수 있습니다.\n  } catch (error) {\n    Alert.alert('오류', error.message);\n  }\n};\n\nexport const verify = async (verificationId, verificationCode, Alert) => {\n  try {\n    const credential = PhoneAuthProvider.credential(verificationId, verificationCode);\n    const userCredential = await signInWithCredential(auth, credential);\n    const user = userCredential.user;\n    Alert.alert('인증이 완료되었습니다.');\n    return user;\n  } catch (error) {\n    Alert.alert('오류', error.message);\n    throw error;\n  }\n};\n\nexport const loginUser = async (id, password) => {\n    try {\n        const db = getDatabase();\n        const userRef = ref(db, 'users/' + id);\n        const snapshot = await get(userRef);\n\n        return snapshot.exists() && snapshot.val().password === password;\n    } catch (error) {\n        console.error(\"Error logging in: \", error);\n        throw error;\n    }\n};\n\nexport default firebaseService;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}